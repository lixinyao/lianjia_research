# 读入数据
con1 = dbConnect(RMySQL::MySQL(),
dbname = 'se_secondhand_house',
username = 'lixinyao',
password = 'lixin131820',
host = '127.0.0.1')# 设置连接
res1 = dbSendQuery(con1,"select 城市,录入时间2 as 录入日期,委托类型,
count(录入日期) as 委托量,
avg(总价) as 平均委托价,avg(建筑面积) as 平均建筑面积
from se房源
group by 城市,录入日期,委托类型
order by 城市,录入日期;")# 查询
mydata = dbFetch(res1,n=-1)
server = function(input,output){
output$table = DT::renderDataTable(DT::datatable({
data = mydata
data = subset(data,select=input$indicators)
data = subset(data,data$城市==input$select1)
data = subset(data,data$录入日期 >= input$dates[1] &
data$录入日期 < input$dates[2])
}))
}
# Server
library(shiny)
library(shinydashboard)
library(RMySQL)
library(ggplot2)
# 读入数据
con1 = dbConnect(RMySQL::MySQL(),
dbname = 'se_secondhand_house',
username = 'lixinyao',
password = 'lixin131820',
host = '127.0.0.1')# 设置连接
res1 = dbSendQuery(con1,"select 城市,录入时间2 as 录入日期,委托类型,
count(房源编号) as 委托量,
avg(总价) as 平均委托价,avg(建筑面积) as 平均建筑面积
from se房源
group by 城市,录入日期,委托类型
order by 城市,录入日期;")# 查询
mydata = dbFetch(res1,n=-1)
server = function(input,output){
output$table = DT::renderDataTable(DT::datatable({
data = mydata
data = subset(data,select=input$indicators)
data = subset(data,data$城市==input$select1)
data = subset(data,data$录入日期 >= input$dates[1] &
data$录入日期 < input$dates[2])
}))
}
library(shiny)
library(shinydashboard)
library(DT)
setwd("/Users/lixinyao/myprogram/shiny/lianjia_research")
# 标题
header = dashboardHeader(
title = "链家研究院数据平台"
#  dropdownMenu(type = "messages",
#               messageItem(
#                 from = "Sales Dept",
#                 message = "Sales are steady this month"
#               ),
#               messageItem(
#                 from = "New User",
#                 message = "How do I register?",
#                 icon = icon("question"),
#                 time = "13:45"
#               ),
#               messageItem(
#                 from = "Support",
#                 message = "The new server is ready.",
#                 icon = icon("life-ring"),
#                 time = "2014-12-01"
#               )
#  )
)
# 侧边栏
sidebar = dashboardSidebar(
sidebarMenu(id = "tabs",
sidebarSearchForm(textId = "searchText",buttonId = "searchButton",
label = "Search..."),
menuItem("宏观经济数据",tabName = "dashboard",icon = icon("dashboard"),
menuSubItem("整体宏观经济",tabName = "macro_1",icon = icon("angle-double-right")),
menuSubItem("北京",tabName = "macro_2",icon = icon("angle-double-right"))
),
menuItem("链家房地产数据",tabName = "lianjia_data",icon = icon("dashboard"),
menuSubItem("SE房源",tabName = "se_secondhand_house",icon = icon("angle-double-right")),
menuSubItem("新房",tabName = "new_house",icon = icon("angle-double-right"))
),
menuItem("关于我们",tabName = "widgets",icon = icon("question"))
)
)
# 主体
body = dashboardBody(
tabItems(
tabItem(
tabName = "se_secondhand_house",
fluidRow(
column(width = 12,
tabBox(width = 3,
tabPanel(h5("筛选条件"),
selectInput("select1",label = h5("选择城市"),
choices = unique(mydata$城市), selected = "北京"),
dateRangeInput("dates",label = h5("选择日期"),language = "zh-CN"),
checkboxGroupInput("indicators",label = h5("选择指标"),
choices = names(mydata[,-(1:3)]),
selected=c()),
checkboxGroupInput("indicators",label = h5("选择指标"),
choices = names(mydata),
selected="房源编号"),
submitButton("确定")),
tabPanel(h5("下载"),
radioButtons("format","文档格式",c("Excel","PDF","HTML","Word"),
inline = TRUE),
downloadButton("downloadReport")
)
),
tabBox(width = 9,
tabPanel(h5("报表"),
DT::dataTableOutput('table')),
tabPanel(h5("图形")),
tabPanel(h5("数据挖掘"))
))
)
)
))
# UI
ui = dashboardPage(header,sidebar,body)
shinyApp(ui,server)
library(shiny)
library(shinydashboard)
library(DT)
setwd("/Users/lixinyao/myprogram/shiny/lianjia_research")
# 标题
header = dashboardHeader(
title = "链家研究院数据平台"
#  dropdownMenu(type = "messages",
#               messageItem(
#                 from = "Sales Dept",
#                 message = "Sales are steady this month"
#               ),
#               messageItem(
#                 from = "New User",
#                 message = "How do I register?",
#                 icon = icon("question"),
#                 time = "13:45"
#               ),
#               messageItem(
#                 from = "Support",
#                 message = "The new server is ready.",
#                 icon = icon("life-ring"),
#                 time = "2014-12-01"
#               )
#  )
)
# 侧边栏
sidebar = dashboardSidebar(
sidebarMenu(id = "tabs",
sidebarSearchForm(textId = "searchText",buttonId = "searchButton",
label = "Search..."),
menuItem("宏观经济数据",tabName = "dashboard",icon = icon("dashboard"),
menuSubItem("整体宏观经济",tabName = "macro_1",icon = icon("angle-double-right")),
menuSubItem("北京",tabName = "macro_2",icon = icon("angle-double-right"))
),
menuItem("链家房地产数据",tabName = "lianjia_data",icon = icon("dashboard"),
menuSubItem("SE房源",tabName = "se_secondhand_house",icon = icon("angle-double-right")),
menuSubItem("新房",tabName = "new_house",icon = icon("angle-double-right"))
),
menuItem("关于我们",tabName = "widgets",icon = icon("question"))
)
)
# 主体
body = dashboardBody(
tabItems(
tabItem(
tabName = "se_secondhand_house",
fluidRow(
column(width = 12,
tabBox(width = 3,
tabPanel(h5("筛选条件"),
selectInput("select1",label = h5("选择城市"),
choices = unique(mydata$城市), selected = "北京"),
dateRangeInput("dates",label = h5("选择日期"),language = "zh-CN"),
checkboxGroupInput("indicators1",label = h5("委托类型"),
choices = unique(mydata$委托类型),
selected="出售"),
checkboxGroupInput("indicators",label = h5("选择指标"),
choices = names(mydata[,-(1:3)]),
selected=c()),
submitButton("确定")),
tabPanel(h5("下载"),
radioButtons("format","文档格式",c("Excel","PDF","HTML","Word"),
inline = TRUE),
downloadButton("downloadReport")
)
),
tabBox(width = 9,
tabPanel(h5("报表"),
DT::dataTableOutput('table')),
tabPanel(h5("图形")),
tabPanel(h5("数据挖掘"))
))
)
)
))
# UI
ui = dashboardPage(header,sidebar,body)
shinyApp(ui,server)
library(shiny)
library(shinydashboard)
library(DT)
setwd("/Users/lixinyao/myprogram/shiny/lianjia_research")
# 标题
header = dashboardHeader(
title = "链家研究院数据平台"
#  dropdownMenu(type = "messages",
#               messageItem(
#                 from = "Sales Dept",
#                 message = "Sales are steady this month"
#               ),
#               messageItem(
#                 from = "New User",
#                 message = "How do I register?",
#                 icon = icon("question"),
#                 time = "13:45"
#               ),
#               messageItem(
#                 from = "Support",
#                 message = "The new server is ready.",
#                 icon = icon("life-ring"),
#                 time = "2014-12-01"
#               )
#  )
)
# 侧边栏
sidebar = dashboardSidebar(
sidebarMenu(id = "tabs",
sidebarSearchForm(textId = "searchText",buttonId = "searchButton",
label = "Search..."),
menuItem("宏观经济数据",tabName = "dashboard",icon = icon("dashboard"),
menuSubItem("整体宏观经济",tabName = "macro_1",icon = icon("angle-double-right")),
menuSubItem("北京",tabName = "macro_2",icon = icon("angle-double-right"))
),
menuItem("链家房地产数据",tabName = "lianjia_data",icon = icon("dashboard"),
menuSubItem("SE房源",tabName = "se_secondhand_house",icon = icon("angle-double-right")),
menuSubItem("新房",tabName = "new_house",icon = icon("angle-double-right"))
),
menuItem("关于我们",tabName = "widgets",icon = icon("question"))
)
)
# 主体
body = dashboardBody(
tabItems(
tabItem(
tabName = "se_secondhand_house",
fluidRow(
column(width = 12,
tabBox(width = 3,
tabPanel(h5("筛选条件"),
selectInput("select1",label = h5("选择城市"),
choices = unique(mydata$城市), selected = "北京"),
dateRangeInput("dates",label = h5("选择日期"),language = "zh-CN"),
selectInput("select2",label = h5("委托类型"),
choices = unique(mydata$委托类型), selected = "出售"),
checkboxGroupInput("indicators",label = h5("选择指标"),
choices = names(mydata[,-(1:3)]),
selected = "委托量"),
submitButton("确定")),
tabPanel(h5("下载"),
radioButtons("format","文档格式",c("Excel","PDF","HTML","Word"),
inline = TRUE),
downloadButton("downloadReport")
)
),
tabBox(width = 9,
tabPanel(h5("报表"),
DT::dataTableOutput('table')),
tabPanel(h5("图形")),
tabPanel(h5("数据挖掘"))
))
)
)
))
# UI
ui = dashboardPage(header,sidebar,body)
shinyApp(ui,server)
# Server
library(shiny)
library(shinydashboard)
library(RMySQL)
library(ggplot2)
# 读入数据
con1 = dbConnect(RMySQL::MySQL(),
dbname = 'se_secondhand_house',
username = 'lixinyao',
password = 'lixin131820',
host = '127.0.0.1')# 设置连接
res1 = dbSendQuery(con1,"select 城市,录入时间2 as 录入日期,委托类型,
count(房源编号) as 委托量,
avg(总价) as 平均委托价格,avg(建筑面积) as 平均建筑面积
from se房源
group by 城市,录入日期,委托类型
order by 城市,录入日期;")# 查询
mydata = dbFetch(res1,n=-1)
server = function(input,output){
output$table = DT::renderDataTable(DT::datatable({
data = mydata
data = subset(data,data$城市==input$select1)
data = subset(data,data$录入日期 >= input$dates1[1] &
data$录入日期 < input$dates1[2])
data = subset(data,select=input$indicators1)
}))
}
library(shiny)
library(shinydashboard)
library(DT)
setwd("/Users/lixinyao/myprogram/shiny/lianjia_research")
# 标题
header = dashboardHeader(
title = "链家研究院数据平台"
#  dropdownMenu(type = "messages",
#               messageItem(
#                 from = "Sales Dept",
#                 message = "Sales are steady this month"
#               ),
#               messageItem(
#                 from = "New User",
#                 message = "How do I register?",
#                 icon = icon("question"),
#                 time = "13:45"
#               ),
#               messageItem(
#                 from = "Support",
#                 message = "The new server is ready.",
#                 icon = icon("life-ring"),
#                 time = "2014-12-01"
#               )
#  )
)
# 侧边栏
sidebar = dashboardSidebar(
sidebarMenu(id = "tabs",
sidebarSearchForm(textId = "searchText",buttonId = "searchButton",
label = "Search..."),
menuItem("宏观经济数据",tabName = "dashboard",icon = icon("dashboard"),
menuSubItem("整体宏观经济",tabName = "macro_1",icon = icon("angle-double-right")),
menuSubItem("北京",tabName = "macro_2",icon = icon("angle-double-right"))
),
menuItem("链家房地产数据",tabName = "lianjia_data",icon = icon("dashboard"),
menuSubItem("SE房源",tabName = "se_secondhand_house",icon = icon("angle-double-right")),
menuSubItem("新房",tabName = "new_house",icon = icon("angle-double-right"))
),
menuItem("关于我们",tabName = "widgets",icon = icon("question"))
)
)
# 主体
body = dashboardBody(
tabItems(
tabItem(
tabName = "se_secondhand_house",
fluidRow(
column(width = 12,
tabBox(width = 3,
tabPanel(h5("筛选条件"),
selectInput("select1",label = h5("选择城市"),
choices = unique(mydata$城市), selected = "北京"),
dateRangeInput("dates1",label = h5("选择日期"),language = "zh-CN"),
selectInput("select2",label = h5("委托类型"),
choices = unique(mydata$委托类型), selected = "出售"),
checkboxGroupInput("indicators1",label = h5("选择指标"),
choices = names(mydata[,-(1:3)]),
selected = "委托量"),
submitButton("确定")),
tabPanel(h5("下载"),
radioButtons("format","文档格式",c("Excel","PDF","HTML","Word"),
inline = TRUE),
downloadButton("downloadReport")
)
),
tabBox(width = 9,
tabPanel(h5("报表"),
DT::dataTableOutput('table')),
tabPanel(h5("图形")),
tabPanel(h5("数据挖掘"))
))
)
)
))
# UI
ui = dashboardPage(header,sidebar,body)
shinyApp(ui,server)
# Server
library(shiny)
library(shinydashboard)
library(RMySQL)
library(ggplot2)
# 读入数据
con1 = dbConnect(RMySQL::MySQL(),
dbname = 'se_secondhand_house',
username = 'lixinyao',
password = 'lixin131820',
host = '127.0.0.1')# 设置连接
res1 = dbSendQuery(con1,"select 城市,录入时间2 as 录入日期,委托类型,
count(房源编号) as 委托量,
avg(总价) as 平均委托价格,avg(建筑面积) as 平均建筑面积
from se房源
group by 城市,录入日期,委托类型
order by 城市,录入日期;")# 查询
mydata = dbFetch(res1,n=-1)
server = function(input,output){
output$table = DT::renderDataTable(DT::datatable({
data = mydata
data = subset(data,data$城市==input$select1)
data = subset(data,data$录入日期 >= input$dates1[1] &
data$录入日期 < input$dates1[2])
data = subset(data,select=input$indicators1)
}))
}
library(shiny)
library(shinydashboard)
library(DT)
setwd("/Users/lixinyao/myprogram/shiny/lianjia_research")
# 标题
header = dashboardHeader(
title = "链家研究院数据平台"
#  dropdownMenu(type = "messages",
#               messageItem(
#                 from = "Sales Dept",
#                 message = "Sales are steady this month"
#               ),
#               messageItem(
#                 from = "New User",
#                 message = "How do I register?",
#                 icon = icon("question"),
#                 time = "13:45"
#               ),
#               messageItem(
#                 from = "Support",
#                 message = "The new server is ready.",
#                 icon = icon("life-ring"),
#                 time = "2014-12-01"
#               )
#  )
)
# 侧边栏
sidebar = dashboardSidebar(
sidebarMenu(id = "tabs",
sidebarSearchForm(textId = "searchText",buttonId = "searchButton",
label = "Search..."),
menuItem("宏观经济数据",tabName = "dashboard",icon = icon("dashboard"),
menuSubItem("整体宏观经济",tabName = "macro_1",icon = icon("angle-double-right")),
menuSubItem("北京",tabName = "macro_2",icon = icon("angle-double-right"))
),
menuItem("链家房地产数据",tabName = "lianjia_data",icon = icon("dashboard"),
menuSubItem("SE房源",tabName = "se_secondhand_house",icon = icon("angle-double-right")),
menuSubItem("新房",tabName = "new_house",icon = icon("angle-double-right"))
),
menuItem("关于我们",tabName = "widgets",icon = icon("question"))
)
)
# 主体
body = dashboardBody(
tabItems(
tabItem(
tabName = "se_secondhand_house",
fluidRow(
column(width = 12,
tabBox(width = 3,
tabPanel(h5("筛选条件"),
selectInput("select1",label = h5("选择城市"),
choices = unique(mydata$城市), selected = "北京"),
dateRangeInput("dates1",label = h5("选择日期"),language = "zh-CN"),
selectInput("select2",label = h5("委托类型"),
choices = unique(mydata$委托类型), selected = "出售"),
checkboxGroupInput("indicators1",label = h5("选择指标"),
choices = names(mydata),
selected = c("城市","录入日期","委托类型","委托量")),
submitButton("确定")),
tabPanel(h5("下载"),
radioButtons("format","文档格式",c("Excel","PDF","HTML","Word"),
inline = TRUE),
downloadButton("downloadReport")
)
),
tabBox(width = 9,
tabPanel(h5("报表"),
DT::dataTableOutput('table')),
tabPanel(h5("图形")),
tabPanel(h5("数据挖掘"))
))
)
)
))
# UI
ui = dashboardPage(header,sidebar,body)
shinyApp(ui,server)
# Server
library(shiny)
library(shinydashboard)
library(RMySQL)
library(ggplot2)
# 读入数据
con1 = dbConnect(RMySQL::MySQL(),
dbname = 'se_secondhand_house',
username = 'lixinyao',
password = 'lixin131820',
host = '127.0.0.1')# 设置连接
res1 = dbSendQuery(con1,"select 城市,录入时间2 as 录入日期,委托类型,
count(房源编号) as 委托量,
avg(总价) as 平均委托价格,avg(建筑面积) as 平均建筑面积
from se房源
group by 城市,录入日期,委托类型
order by 城市,录入日期;")# 查询
